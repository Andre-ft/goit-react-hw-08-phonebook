(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{20:function(t,e,n){t.exports={form:"ContactForm_form__2-q5N",input:"ContactForm_input__1382s",button:"ContactForm_button__OBqyM"}},29:function(t,e,n){t.exports={contactList__item:"ContactListItem_contactList__item__fGcDN",deleteButton:"ContactListItem_deleteButton__JUaaW"}},33:function(t,e,n){t.exports={contactList__item:"ContactList_contactList__item__1gMCN",deleteButton:"ContactList_deleteButton__Hv83B"}},36:function(t,e,n){t.exports={filter:"Filter_filter__1FN7R"}},37:function(t,e,n){t.exports={App:"App_App__1kkVC"}},45:function(t,e,n){},61:function(t,e,n){"use strict";n.r(e);var a,c=n(0),r=n.n(c),o=n(22),s=n.n(o),i=(n(45),n(5)),u=n(19),b=n(33),d=n.n(b),l=n(34),j=n(8),m=Object(l.a)({reducerPath:"contactApi",baseQuery:Object(j.d)({baseUrl:"https://61fe5bafa58a4e00173c97fc.mockapi.io/api/v1/"}),tagTypes:["Contact"],endpoints:function(t){return{fetchContacts:t.query({query:function(){return"/contacts"},providesTags:["Contact"]}),deleteContact:t.mutation({query:function(t){return{url:"/contacts/".concat(t),method:"DELETE"}},invalidatesTags:["Contact"]}),createContact:t.mutation({query:function(t){return{url:"/contacts",method:"POST",body:{name:t.name,number:t.number}}},invalidatesTags:["Contact"]})}}}),O=m.useFetchContactsQuery,h=m.useDeleteContactMutation,p=m.useCreateContactMutation,f=n(7),x=n(29),_=n.n(x),C=n(35),v=n(40),g=n(27),y=n(38),F=Object(g.a)(a||(a=Object(C.a)(["\n0% {\n  transform: rotate(0deg);\n}\n100% {\n  transform: rotate(1turn);\n}\n"]))),L=Object(v.a)(y.a,{target:"e19vvtzt0"})("animation:",F," 0.85s linear infinite;");L.defaultProps={size:40};var N=n(2),w=function(t){var e=t.id,n=t.name,a=t.number,c=h(),r=Object(f.a)(c,2),o=r[0],s=r[1].isLoading;return Object(N.jsxs)("li",{className:_.a.contactList__item,children:[n," : ",a,Object(N.jsxs)("button",{type:"button",className:_.a.deleteButton,onClick:function(){return o(e)},disabled:s,children:[s&&Object(N.jsx)(L,{size:12}),"Delete"]})]})},k=Object(c.createContext)();function A(){var t=Object(c.useContext)(k).filter,e=O(),n=e.data;e.isFetching;return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("ul",{className:d.a.contactList__item,children:n&&function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}(n,t).map((function(t){return Object(N.jsx)(w,Object(u.a)({},t),t.id)}))})})}var B=n(16),q=n.n(B),z=n(20),S=n.n(z),T=n(1),M=(Object(T.b)("contacts/add",(function(t){var e=t.name,n=t.number;return{payload:{id:q.a.generate(),name:e,number:n}}})),Object(T.b)("contacts/delete"),Object(T.b)("contacts/changeFilter"),n(30));function P(){var t=Object(c.useState)(""),e=Object(f.a)(t,2),n=e[0],a=e[1],r=Object(c.useState)(""),o=Object(f.a)(r,2),s=o[0],i=o[1],u=Object(c.useState)(!0),b=Object(f.a)(u,2),d=b[0],l=b[1],j=O(),m=j.data,h=(j.isFetching,p()),x=Object(f.a)(h,2),_=x[0],C=x[1],v=C.isLoading,g=(C.isSuccess,q.a.generate()),y=q.a.generate(),F=function(t){var e=t.currentTarget,n=e.name,c=e.value;switch("name"===n&&function(t){if(m&&m.find((function(e){return e.name.toLowerCase()===t.toLowerCase()})))return l(!1),void alert("".concat(t," is already in contacts"));l(!0)}(c),n){case"name":a(c);break;case"number":i(c)}},w={duration:3e3,position:"top-right",style:{background:"lawngreen"}};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(M.a,{}),Object(N.jsxs)("form",{className:S.a.form,onSubmit:function(t){t.preventDefault(),Object(M.b)("Contact added",w),_({name:n,number:s}),a(""),i("")},children:[Object(N.jsxs)("label",{htmlFor:g,className:S.a.input,children:["Name",Object(N.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:n,onChange:F,id:g})]}),Object(N.jsxs)("label",{htmlFor:y,className:S.a.input,children:["Number",Object(N.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:s,onChange:F,id:y})]}),Object(N.jsxs)("button",{type:"submit",className:S.a.button,disabled:!d||v,children:[v&&Object(N.jsx)(L,{size:12}),"Add contact"]})]})]})}var D=n(36),E=n.n(D);function J(){var t=Object(c.useContext)(k),e=t.filter,n=t.setFilter;return Object(N.jsxs)("label",{className:E.a.filter,children:["Find contacts by name",Object(N.jsx)("input",{type:"text",value:e,onChange:function(t){return n(t.currentTarget.value)}})]})}var I=n(37),Z=n.n(I),Q=function(){return Object(N.jsxs)("div",{className:Z.a.App,children:[Object(N.jsx)("h1",{children:"Phonebook"}),Object(N.jsx)(P,{}),Object(N.jsx)("h2",{children:"Contacts"}),Object(N.jsx)(J,{}),Object(N.jsx)(A,{})]})},U=n(14),G=(n(59),Object(T.a)({reducer:Object(U.a)({},m.reducerPath,m.reducer),middleware:function(t){return t().concat(m.middleware)}}));Object(j.e)(G.dispatch);var H=n(39);function R(t){var e=t.children,n=Object(c.useState)(""),a=Object(f.a)(n,2),r=a[0],o=a[1],s=Object(c.useMemo)((function(){return{filter:r,setFilter:o}}),[o,r]);return Object(N.jsx)(k.Provider,{value:s,children:e})}s.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(H.a,{children:Object(N.jsx)(R,{children:Object(N.jsx)(i.a,{store:G,children:Object(N.jsx)(Q,{})})})})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.c5e48f37.chunk.js.map